<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Gordon的寇汀筆記本</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Gordon的寇汀筆記本"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Gordon的寇汀筆記本"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="紀錄個人軟體開發筆記本"><meta property="og:type" content="blog"><meta property="og:title" content="Gordon的寇汀筆記本"><meta property="og:url" content="https://gordonfang199649.github.io/"><meta property="og:site_name" content="Gordon的寇汀筆記本"><meta property="og:description" content="紀錄個人軟體開發筆記本"><meta property="og:locale" content="zh_TW"><meta property="og:image" content="https://gordonfang199649.github.io/img/og_image.png"><meta property="article:author" content="Gordon Fang"><meta property="article:tag" content="Software Engineering"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://gordonfang199649.github.io"},"headline":"Gordon的寇汀筆記本","image":["https://gordonfang199649.github.io/img/og_image.png"],"author":{"@type":"Person","name":"Gordon Fang"},"publisher":{"@type":"Organization","name":"Gordon Fang","logo":{"@type":"ImageObject","url":"https://gordonfang199649.github.io/img/logo.svg"}},"description":"紀錄個人軟體開發筆記本"}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.4.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="Gordon的寇汀筆記本" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item is-active" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item is-active" href="/">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="搜尋" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><div class="card-image"><a class="image is-7by3" href="/2024/01/29/Snow-Algorithm-%E9%9B%AA%E8%8A%B1%E6%BC%94%E7%AE%97%E6%B3%95/"><img class="fill" src="https://images.unsplash.com/photo-1492584115029-f633e64c61fa?q=80&amp;w=1374&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="Snow Algorithm 雪花演算法"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2024-01-29T13:06:28.000Z" title="1/29/2024, 9:06:28 PM">2024-01-29</time>發表</span><span class="level-item"><time dateTime="2024-01-29T15:05:44.288Z" title="1/29/2024, 11:05:44 PM">2024-01-29</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E6%BC%94%E7%AE%97%E6%B3%95/">演算法</a></span><span class="level-item">11 分鐘讀完 (大約1662個字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/01/29/Snow-Algorithm-%E9%9B%AA%E8%8A%B1%E6%BC%94%E7%AE%97%E6%B3%95/">Snow Algorithm 雪花演算法</a></h1><div class="content"><h3 id="什麼是雪花演算法？"><a href="#什麼是雪花演算法？" class="headerlink" title="什麼是雪花演算法？"></a>什麼是雪花演算法？</h3><p>我們都知道在自然界當中每一片雪花都是獨一無二的。在目前提倡容器化、分散式的架構時代下，很可能會遇到 ID 重號的問題，我們對 ID 的期望就會希望雪花般一樣都不重複。</p>
<p>這個演算法最早是由 Twitter 所創建的，主要是拿來產推文的 ID，後來這套演算法被 Discord、Instagram採用，也衍伸許多不同格式的版本。</p>
<p>會想要使用這套演算法的原因是因為筆者想要拿它產生 token，快取在 redis 上，合法的使用者可以拿著這個 token 存取筆者在部署 Docker 上的微服務系統。</p>
<h3 id="雪花演算法核心組成"><a href="#雪花演算法核心組成" class="headerlink" title="雪花演算法核心組成"></a>雪花演算法核心組成</h3><p>筆者先為大家科普一下雪花演算法的組成的成分，主要共分 4 個欄位組成 64 位元，頭一個位元我們不使用，其他欄位下方逐一跟各位說明。</p>
<p><img src="https://i.imgur.com/GZsGllv.png" alt="Image"></p>
<h4 id="時間戳記"><a href="#時間戳記" class="headerlink" title="時間戳記"></a>時間戳記</h4><p>第二欄位是時間戳記，共 41 個位元，以 UNIX 時間（起始年是 1970 年）的毫秒為單位正好可以填滿41 bits 的空間，可表示最大數為 2,199,023,255,551，以毫秒計算約 69 年，這個數值是兩個時戳相減得出的。</p>
<p>如果是拿當下的時間戳填進去這個欄位，那麼數值很快就會到達天花板，我們身為生活智慧王，當然要善用空間，所以才會以產生 token 的時間戳減去一個開始時間戳。</p>
<p>由於前面有提到是微服務，為了保持一致，開始時間戳需要寫死，建議可以訂在系統上線前的日期，像筆者就選擇把開始時間的時戳訂成自己的生日。</p>
<h4 id="工作站台-ID"><a href="#工作站台-ID" class="headerlink" title="工作站台 ID"></a>工作站台 ID</h4><p>第三欄位是工作站台 ID，共 10 個位元，用來區分哪ㄧ台機器發出的 token。</p>
<h4 id="流水號"><a href="#流水號" class="headerlink" title="流水號"></a>流水號</h4><p>第四欄位是流水號 ID，共 12 個位元，意思是同一個時間下同一機器所配發出去的流水號，從 0 開始遞增，直到進入下一個毫秒，流水號再重新編號。</p>
<h3 id="演算法說明"><a href="#演算法說明" class="headerlink" title="演算法說明"></a>演算法說明</h3><h4 id="位元分配器"><a href="#位元分配器" class="headerlink" title="位元分配器"></a>位元分配器</h4><p>筆者建立一個類別叫作 BitsAllocator，主要做兩件工作，第一件事是初起化各個欄位位元數，第二件是配發雪花演算法的唯一 ID，以下筆者會逐一說明。</p>
<p><img src="https://i.imgur.com/1IM4ioP.png" alt="Image"></p>
<p><img src="https://i.imgur.com/ME5TfMc.png" alt="Image"></p>
<p>一開始在 BitsAllocator 的建構子決定好各欄位要多長，由參考 BitsAllocator 的類別去制定，假設我們按造預設的長度，那麼建構子內的三個參數分別為 41, 10, 12。</p>
<p>第二步就是要製作位元遮罩，所以我們要取得這三個欄位的最大值，舉例來說如果我們想要取得工作站 ID 的最大值 2¹⁰ — 1，也就是 10 個位元都是 1。</p>
<p>如何取得最大值呢？在 Java 的世界中整數採用二的補數，先將 — 1 向左位移 10 個位元的位置，再位元 NOT 運算，就可以得到囉。</p>
<p><img src="https://i.imgur.com/b5H4Upz.png" alt="Image"></p>
<p><img src="https://i.imgur.com/ppx2ht6.png" alt="Image"></p>
<p>第三步要把各個欄位擺放到正確的位置，像是時間戳記需要位元要向左位移 10 + 12 個位元，工作站站台 ID 要向左位移 12 個位元，流水號則不需要移動，所以我們需要紀錄一下到時候要位移的個數。</p>
<p><img src="https://i.imgur.com/geuU7zU.png" alt="Image"></p>
<p>第四步就是把它們像積木一樣拼起來，筆者這邊設計一個方法，讓參考BitsAllocator 的類別呼叫 allocate，把當下的時間戳、機器的 ID、配發的流水號傳進來，該方法會把這三個欄位推到正確的位置，用到的是我們上面紀錄下來位移的各個去推，最後用 OR 運算合併。</p>
<p><img src="https://i.imgur.com/VVSuEZJ.png" alt="Image"></p>
<h4 id="唯一性-ID-取號器"><a href="#唯一性-ID-取號器" class="headerlink" title="唯一性 ID 取號器"></a>唯一性 ID 取號器</h4><p>筆者設計了一個 SnowFlakeAlg 類別用來取號。</p>
<p><img src="https://i.imgur.com/CgWwbbW.png" alt="Image"></p>
<p>一開始建構 SnowFlakeAlg 類別，首先先注入 BitsAllocator，後續我們取號的時候會使用到。由於每一個放置在 Docker 容器內每一個微服務都會分配一組 IP，所以筆者是取其 IPv4 第四個欄位作為工作站站台 ID。</p>
<p>這組 IP 是怎麼得來的呢？Java 會在作業系統建立 Socket 連線，使用 InetAddress.getLocalHost().getHostAddress() ，可以得到本機的主機位址。</p>
<p><img src="https://i.imgur.com/VlsBirv.png" alt="Image"></p>
<p>至於時戳怎麼產生呢？是呼叫 System.currentTimeMillis() 取得系統當下的時戳，記得前面我們有說雪花演算法時戳這個欄位是兩個毫秒相減得出的嗎？系統當下的時戳減去一個我們是先制定好的開始時戳，這邊我減去的是我去年的生日那天，如果結果值大於 2⁴¹ — 1，那就代表時戳佔用位元已耗盡，無法產製唯一性 ID。</p>
<p>會呼叫 nextMilliSecond() 方法原因在上一毫秒的流水號已經分配完，所以要循環等待到下一毫秒，為了避免因為機器硬體時鐘問題造成時戳還停留在過去，所以我們有寫了 while 迴圈，重新取時戳，同時判斷是否有大於上一個時戳的時間。</p>
<p><img src="https://i.imgur.com/bUecYv0.png" alt="Image"></p>
<p>SnowFlakeAlg 類別主要功能也就是取號，第一先取得系統當下的時戳，同一個毫秒下，我們就讓遞增取流水號，在取號的過程中，我們會拿遞增後的流水號跟流水號的最大值做 AND 運算，看結果值是否為 0？如果是，那代表該時戳可分配的流水號全部分玩了，需要等到下一個毫秒，再重新分配。</p>
<p>最後我們拿系統時戳減開始時戳、工作站 ID、流水號當作參數呼叫bitsAllocator.allocate()，就可以拿到唯一性的 ID 當作 token 使用了。</p>
<p><img src="https://i.imgur.com/TI4XIC3.png" alt="Image"></p>
<h3 id="完整程式碼"><a href="#完整程式碼" class="headerlink" title="完整程式碼"></a>完整程式碼</h3><p><a target="_blank" rel="noopener" href="https://github.com/gordonfang199649/SnowflakeAlgo/blob/master/src/main/java/org/example/SnowFlakeAlg.java">SnowflakeAlgo</a></p>
</div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2024/01/27/VS-Code-%E5%B8%B6%E5%8F%83%E6%95%B8-debug-python%E7%A8%8B%E5%BC%8F/"><img class="fill" src="https://images.unsplash.com/photo-1600267185393-e158a98703de?q=80&amp;w=1470&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="VS Code 帶參數 debug python程式"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2024-01-27T15:31:05.000Z" title="1/27/2024, 11:31:05 PM">2024-01-27</time>發表</span><span class="level-item"><time dateTime="2024-01-27T16:00:43.032Z" title="1/28/2024, 12:00:43 AM">2024-01-28</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/vscode/">vscode</a></span><span class="level-item">4 分鐘讀完 (大約654個字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/01/27/VS-Code-%E5%B8%B6%E5%8F%83%E6%95%B8-debug-python%E7%A8%8B%E5%BC%8F/">VS Code 帶參數 debug python程式</a></h1><div class="content"><h3 id="問題描述"><a href="#問題描述" class="headerlink" title="問題描述"></a>問題描述</h3><p>學姊最近問我要怎麼在 VS Code 帶參數去debug python程式，什麼是帶參數執行 Python 程式呢？也就是在 Python 腳本檔依據執行指令的參數來決定程式要跑一個環境、哪一個資料集等等，是一個非常好用的功能。</p>
<p>學姊遇到的問題是如果在終端機上下 python main.py –e 1000 –d datasets，沒辦法在 VS Code 上 debug，原因是因為沒有使用 VS Code debugger，就算用了，也無法指定參數內容，當跑到要吃參數的程式片段的時候會因此拋錯。</p>
<h3 id="解決方法"><a href="#解決方法" class="headerlink" title="解決方法"></a>解決方法</h3><p>首先，我先準備了一個範例程式碼 main.py，內容如下，在這個範例檔案會吃兩個參數，一個是 -e 迭代次數、另一個 -d 資料集，我使用了 argparse 套件來吃參數，用法在此不介紹。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">import argparse</span><br><span class="line"></span><br><span class="line">def parse_args():</span><br><span class="line">    parser = argparse.ArgumentParser(description=&#x27;a simple demo of argparse&#x27;)</span><br><span class="line">    </span><br><span class="line">    # epoch argument</span><br><span class="line">    parser.add_argument(&#x27;-e&#x27;, type=int, required=True)</span><br><span class="line">    </span><br><span class="line">    # datasets path argument</span><br><span class="line">    parser.add_argument(&#x27;-d&#x27;, type=str, required=True)</span><br><span class="line"></span><br><span class="line">    # resolve arguments</span><br><span class="line">    args = parser.parse_args()</span><br><span class="line"></span><br><span class="line">    return args</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ == &#x27;__main__&#x27;:</span><br><span class="line">    args = parse_args()</span><br><span class="line">    epoch = args.e</span><br><span class="line">    datasets_path = args.d</span><br><span class="line">    print(epoch)</span><br><span class="line">    print(datasets_path)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>點開 VS Code 左側的 Run and debug，再點選 create a lauch.json file。</p>
<p><img src="https://i.imgur.com/WDQLKt5.png" alt="Image"></p>
<p>接著會跳出 Prompt，選擇 Python File。<br><img src="https://i.imgur.com/DkHp7zm.png" alt="Image"></p>
<p>點選後，VS Code 就會在當前的資料夾底下，建立一個 .vscode 的資料夾，裡面放 lauch.json，我會要在 configurations 裡面多新增一個 key 叫做 args，裡面填寫我們要執行的參數值，要注意的地方是，參數跟值要分開來寫，舉例來說，原本用終端機執行 python 的指令是 python -e 1000 -d datasets，args就要這樣寫 [“-e”, “1000”, “-d”, “~/test/datasets.csv”]。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="comment">// Use IntelliSense to learn about possible attributes.</span></span><br><span class="line">    <span class="comment">// Hover to view descriptions of existing attributes.</span></span><br><span class="line">    <span class="comment">// For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span>: <span class="string">&quot;0.2.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;configurations&quot;</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;Python: Current File&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;python&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;request&quot;</span>: <span class="string">&quot;launch&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;program&quot;</span>: <span class="string">&quot;$&#123;file&#125;&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;console&quot;</span>: <span class="string">&quot;integratedTerminal&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;args&quot;</span>: [<span class="string">&quot;-e&quot;</span>, <span class="string">&quot;1000&quot;</span>, <span class="string">&quot;-d&quot;</span>, <span class="string">&quot;~/test/datasets.csv&quot;</span>],</span><br><span class="line">            <span class="attr">&quot;justMyCode&quot;</span>: <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://i.imgur.com/U10kuFM.png" alt="Image"></p>
<p>為何要這樣設定的原因是因為 VS Code 可以根據我們的參數設定來執行、除錯程式。</p>
<p>點開 VS Code 左側的 Run and debug，按下綠色 Play 按鈕就可以開始 debug，我是在程式碼的第 23 行下斷點，在 watch 監控 epoch、datasets_path 這兩個變數的內容，可以看到我們在 launch.json 設定的參數。</p>
<p><img src="https://i.imgur.com/ats4EPH.png" alt="Image"></p>
<h3 id="參考文件"><a href="#參考文件" class="headerlink" title="參考文件"></a>參考文件</h3><p><a target="_blank" rel="noopener" href="https://code.visualstudio.com/docs/cpp/launch-json-reference">https://code.visualstudio.com/docs/cpp/launch-json-reference</a></p>
</div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2024/01/27/%E5%9C%A8-Visual-Studio-Code-%E9%81%A0%E7%AB%AF%E9%96%8B%E7%99%BC/"><img class="fill" src="https://images.unsplash.com/photo-1591382696684-38c427c7547a?q=80&amp;w=1470&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="在 Visual Studio Code 遠端開發（客戶端篇）"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2024-01-27T13:57:45.000Z" title="1/27/2024, 9:57:45 PM">2024-01-27</time>發表</span><span class="level-item"><time dateTime="2024-01-27T14:58:29.654Z" title="1/27/2024, 10:58:29 PM">2024-01-27</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/vscode/">vscode</a></span><span class="level-item">4 分鐘讀完 (大約614個字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/01/27/%E5%9C%A8-Visual-Studio-Code-%E9%81%A0%E7%AB%AF%E9%96%8B%E7%99%BC/">在 Visual Studio Code 遠端開發（客戶端篇）</a></h1><div class="content"><p>研究所有時候要跑機器學習的東西，但用自己的主機跑又很容易炸裂，每次遠端登入進去 lab 的電腦又很麻煩，我剛好看得到學長姐用 vscode 遠端回去 lab 電腦，我想說自己也來玩玩看，以下是客戶端的步驟，照著步驟操作後，就可以在本地端 vscode 做程式開發，實際算力是用 lab 的電腦。</p>
<h3 id="Visual-Studio-Code-遠端開發設定"><a href="#Visual-Studio-Code-遠端開發設定" class="headerlink" title="Visual Studio Code 遠端開發設定"></a>Visual Studio Code 遠端開發設定</h3><h4 id="下載-Remote-SSH-插件"><a href="#下載-Remote-SSH-插件" class="headerlink" title="下載 Remote SSH 插件"></a>下載 Remote SSH 插件</h4><p>在 VS Code IDE 側欄找到 Extensions，輸入 “Remote-SSH”，然後按下安裝鍵。<br><img src="https://i.imgur.com/b9grxVh.png" alt="Image"></p>
<h4 id="SSH-連線資訊設定"><a href="#SSH-連線資訊設定" class="headerlink" title="SSH 連線資訊設定"></a>SSH 連線資訊設定</h4><p>在 VS Code IDE 左下角有一個 &gt;&lt; 的符號，找到後按下去，IDE 會跳出一個 prompt，輸入伺服器的 SSH 連線資訊，格式為 [帳號]@[IP位址 / 主機網域名稱] (不用打中括號)。</p>
<p><img src="https://i.imgur.com/EwUNCPK.png" alt="Image"></p>
<p><img src="https://i.imgur.com/t6qRTdT.png" alt="Image"></p>
<p>輸入完後，在在 VS Code IDE 右下角會挑出 Open Config，上一步的操作會在家目錄 ~/.ssh 中建立一個 config 檔案，裡面會紀錄我們的電腦跟其他主機的 SSH 連線資訊。<br><img src="https://i.imgur.com/G3xBTEX.png" alt="Image"></p>
<p>打開後長這樣，裡面可以自行更改 IP 位址、Port 號、SSH 連線用的私鑰，Host 預設是我剛剛輸入的 IP位址，為了方便我識別，我改成 LAB706，所以 Host 是可以自行更改成喜歡的別名，但 HostName 不行，要輸入正確的IP位址或主機網域名稱。</p>
<p><img src="https://i.imgur.com/cxPqyLq.png" alt="Image"></p>
<h4 id="SSH-連線到遠端主機"><a href="#SSH-連線到遠端主機" class="headerlink" title="SSH 連線到遠端主機"></a>SSH 連線到遠端主機</h4><p>確認沒問題後，就可以關閉，再次按下 VS Code IDE 左下角有一個 &gt;&lt; 的符號，選擇 LAB706，就可以登入到遠端伺服器。<br><img src="https://i.imgur.com/HY8PWl9.png" alt="Image"></p>
<p>VS Code 將提示你輸入 SSH 密碼，輸入後即可連接到伺服器。</p>
<p><img src="https://i.imgur.com/ojpDC5Z.png" alt="Image"></p>
<p>連進來後，沒有跳出錯誤訊息的 prompt，且右下角顯示 LAB706，代表連線成功，那要怎麼看到遠端主機上的檔案呢？按下 VS Code Explorer，再按 Open folder，就可以看得到遠端主機上的資料夾、跟檔案，接下來可以開始做事了。</p>
<p><img src="https://i.imgur.com/ZssEEqr.png" alt="Image"></p>
</div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2022/03/31/Azure-DevOps-Stakeholder-%E6%AC%8A%E9%99%90%E7%9C%8B%E4%B8%8D%E5%88%B0-Repo/"><img class="fill" src="https://images.unsplash.com/photo-1508971344143-29b17efc1689?ixlib=rb-1.2.1&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=1074&amp;q=80" alt="Azure DevOps Stakeholder 權限看不到 Repo"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-03-30T16:35:12.000Z" title="3/31/2022, 12:35:12 AM">2022-03-31</time>發表</span><span class="level-item"><time dateTime="2022-03-30T17:23:10.508Z" title="3/31/2022, 1:23:10 AM">2022-03-31</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/Azure-DevOps/">Azure DevOps</a></span><span class="level-item">3 分鐘讀完 (大約457個字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/03/31/Azure-DevOps-Stakeholder-%E6%AC%8A%E9%99%90%E7%9C%8B%E4%B8%8D%E5%88%B0-Repo/">Azure DevOps Stakeholder 權限看不到 Repo</a></h1><div class="content"><h2 id="問題描述"><a href="#問題描述" class="headerlink" title="問題描述"></a>問題描述</h2><p>我們使用 CI/CD 平台是 Azure DevOps，我們預計想做 Side project，想把技術支援連結放在 Wiki，朋友說他有將我們每一個人權限設置為 Admin，另外也有用 git 控管 Wiki，而我遇到的問題是無法在平台的 side menu 找到 Repo 圖示，於是我跳出來組織的畫面，從 Project 的 Repo 圖示點，但卻看到 403 無權限存取。</p>
<p><img src="https://i.imgur.com/7SJKzKZ.png" alt="Image"></p>
<p><img src="https://i.imgur.com/MaSU34u.png" alt="Image"></p>
<h2 id="解決辦法"><a href="#解決辦法" class="headerlink" title="解決辦法"></a>解決辦法</h2><p>後來我才發現原來即便專案的權限開到最大，成員仍無法存取某些功能。</p>
<ol>
<li>建立專案後，邀請其他人加入某一專案內，此人若沒有在這個組織內，系統會將其權限設定為 Stakeholder 的角色。</li>
<li>Stakeholder 的角色是沒有版本控制的功能可以使用，換句話說開發人員角色必須是 Basic 或 Visual Studio Subscriber。</li>
<li>第二點合理的原因是因為利害關係人不應該觸碰版本控制的東西，他的職責所在在於「驗收產品」。</li>
</ol>
<h3 id="操作設定"><a href="#操作設定" class="headerlink" title="操作設定"></a>操作設定</h3><p>首先，從專案頁面跳回去組織頁面，找到 side menu 的 Organization settings</p>
<p><img src="https://i.imgur.com/a52gqWE.png" alt="Image"></p>
<p>從 Organization settings 找到 Users，可以發現邀請的組員都會在裡面</p>
<p><img src="https://i.imgur.com/6HcmpTe.png" alt="Image"></p>
<p>接著對應該是開發人員的組員 Access Level 調整成 Basic 或 Visual Studio Subscriber。</p>
<p><img src="https://i.imgur.com/S6urj3w.png" alt="Image"></p>
<p>最後調整完，那我們就可以看到 Repo 的功能了 :D</p>
<h2 id="參考資源"><a href="#參考資源" class="headerlink" title="參考資源"></a>參考資源</h2><p><a target="_blank" rel="noopener" href="https://jd-bots.com/2021/08/22/fixed-cannot-see-repos-in-azure-devops-with-stakeholder-access/">[Fixed] Cannot see Repos in Azure DevOps with Stakeholder Access</a></p>
<p><a target="_blank" rel="noopener" href="https://ithelp.ithome.com.tw/articles/10264090">【把玩Azure DevOps】Day3 Organization與Projects</a></p>
</div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2022/03/12/%E5%A6%82%E4%BD%95%E5%9C%A8-Hexo-%E9%96%8B%E7%99%BC%E7%92%B0%E5%A2%83%E7%9A%84%E6%96%87%E7%AB%A0%E4%B8%AD%E5%8A%A0%E5%85%A5-LikeCoin-button/"><img class="fill" src="https://8565014-files.gitbook.io/~/files/v0/b/gitbook-28427.appspot.com/o/assets%2F-LL4mdaVjNgL6A1--PV0%2F-M-JYlmUCo6udh9A6gxn%2F-M-J_xspSsjzpvobwIQG%2FLikeCoin_presskit_LikeCoin_Asset_LikeCoinFeature.png?alt=media&amp;token=0b819621-3d86-4043-ba21-7770b74ce2e3" alt="[Hexo] 如何在 Hexo 開發環境的文章中加入 LikeCoin button"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-03-12T09:22:50.000Z" title="3/12/2022, 5:22:50 PM">2022-03-12</time>發表</span><span class="level-item"><time dateTime="2022-03-12T17:15:05.385Z" title="3/13/2022, 1:15:05 AM">2022-03-13</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/Hexo/">Hexo</a></span><span class="level-item">6 分鐘讀完 (大約870個字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/03/12/%E5%A6%82%E4%BD%95%E5%9C%A8-Hexo-%E9%96%8B%E7%99%BC%E7%92%B0%E5%A2%83%E7%9A%84%E6%96%87%E7%AB%A0%E4%B8%AD%E5%8A%A0%E5%85%A5-LikeCoin-button/">[Hexo] 如何在 Hexo 開發環境的文章中加入 LikeCoin button</a></h1><div class="content"><h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>LikeCoin 是一種加密虛擬貨幣，基於以太坊區塊鏈鎖延伸出來的代幣。不知道大家是不是在瀏覽網站是不是常常看到像 Medium 拍手按鈕， LikeCoin 基金會會依據別人給創作者的按讚數配發其發行虛擬幣幣給創作者，當 LikeCoin 數達到 2,000 時就可以兌換成法定貨幣。我想在自己的 Hexo 網頁放置 LikeCoin 主要原因為我很喜歡它的配色、 Logo 的設計，另一個原因是欣賞它的創作生態圈治理理念。</p>
<h3 id="LikeCoin-加入到-Hexo"><a href="#LikeCoin-加入到-Hexo" class="headerlink" title="LikeCoin 加入到 Hexo"></a>LikeCoin 加入到 Hexo</h3><blockquote>
<p>本篇文章是以 Hexo icarus 主題設定為主，且預設您已經註冊 LikeCoin 。</p>
</blockquote>
<p>官方網站是以 Hexo next 主題為範例，而我的主題目前是使用 icarus ， next 的模板引擎是用 ejs ，而 icarus 則是用 React 的 jsx ，所以設定上就有些許不同。</p>
<p><img src="https://i.imgur.com/mBMh5W0.png"></p>
<h4 id="LikeCoin-button-Gitbook-官方範例"><a href="#LikeCoin-button-Gitbook-官方範例" class="headerlink" title="LikeCoin button Gitbook 官方範例"></a>LikeCoin button Gitbook 官方範例</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="handlebars"><span class="xml"></span></span></span><br><span class="line"><span class="xml"><span class="handlebars">    document.write(</span></span></span><br><span class="line"><span class="xml"><span class="handlebars">      &quot;<span class="tag">&lt;<span class="name">iframe</span> <span class="attr">scrolling</span>=<span class="string">&#x27;no&#x27;</span> <span class="attr">frameborder</span>=<span class="string">&#x27;0&#x27;</span> <span class="attr">sandbox</span>=<span class="string">&#x27;allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox allow-storage-access-by-user-activation&#x27;</span> <span class="attr">style</span>=<span class="string">&#x27;height: 212px; width: 100%;&#x27;</span> <span class="attr">src</span>=<span class="string">&#x27;https://button.like.co/in/embed/[LikerID]/button?referrer=&quot; +</span></span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="xml"><span class="handlebars">      encodeURIComponent(location.href.split(&quot;?&quot;)[0].split(&quot;#&quot;)[0]) + &quot;&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span>&quot;);</span></span></span><br><span class="line"><span class="xml"><span class="handlebars">  </span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>icarus 主題預設可以設定 donate 的連結，可以透過 <code>_config.icarus.yml</code> 去做設定，它根據 yml 屬性找到對應連結的圖片，再渲染到前端頁面的卡片上。</p>
<p><img src="https://i.imgur.com/h8iVOHn.png" alt="Image"></p>
<h5 id="config-icarus-yml"><a href="#config-icarus-yml" class="headerlink" title="_config.icarus.yml"></a>_config.icarus.yml</h5><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">donates:</span></span><br><span class="line">    <span class="comment"># &quot;Buy me a coffee&quot; donate button configurations</span></span><br><span class="line">    <span class="bullet">-</span></span><br><span class="line">        <span class="attr">type:</span> <span class="string">buymeacoffee</span></span><br><span class="line">        <span class="comment"># URL to the &quot;Buy me a coffee&quot; page</span></span><br><span class="line">        <span class="attr">url:</span> <span class="string">&#x27;你的buymeacoffee URL&#x27;</span></span><br><span class="line">    <span class="comment"># Paypal donate button configurations</span></span><br><span class="line">    <span class="bullet">-</span></span><br><span class="line">        <span class="attr">type:</span> <span class="string">paypal</span></span><br><span class="line">        <span class="comment"># Paypal business ID or email address</span></span><br><span class="line">        <span class="attr">business:</span> <span class="string">&#x27;paypal ID&#x27;</span></span><br><span class="line">        <span class="comment"># Currency code</span></span><br><span class="line">        <span class="attr">currency_code:</span> <span class="string">USD</span> <span class="comment">#收款幣別</span></span><br></pre></td></tr></table></figure>

<h4 id="donates-jsx-原始碼"><a href="#donates-jsx-原始碼" class="headerlink" title="donates.jsx 原始碼"></a>donates.jsx 原始碼</h4><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> logger = <span class="built_in">require</span>(<span class="string">&#x27;hexo-log&#x27;</span>)();</span><br><span class="line"><span class="keyword">const</span> &#123; Component &#125; = <span class="built_in">require</span>(<span class="string">&#x27;inferno&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> view = <span class="built_in">require</span>(<span class="string">&#x27;hexo-component-inferno/lib/core/view&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = <span class="class"><span class="keyword">class</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> &#123; config, helper &#125; = <span class="built_in">this</span>.props;</span><br><span class="line">        <span class="keyword">const</span> &#123; __ &#125; = helper;</span><br><span class="line">        <span class="keyword">const</span> &#123; donates = [] &#125; = config;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="built_in">Array</span>.isArray(donates) || !donates.length) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;card&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;card-content&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;<span class="name">h3</span> <span class="attr">class</span>=<span class="string">&quot;menu-label has-text-centered&quot;</span>&gt;</span>&#123;__(&#x27;donate.title&#x27;)&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;buttons is-centered&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">                    &#123;donates.map(service =&gt; &#123;</span></span><br><span class="line"><span class="xml">                        const type = service.type;</span></span><br><span class="line"><span class="xml">                        if (typeof type === &#x27;string&#x27;) &#123;</span></span><br><span class="line"><span class="xml">                            try &#123;</span></span><br><span class="line"><span class="xml">                                let Donate = view.require(&#x27;donate/&#x27; + type);</span></span><br><span class="line"><span class="xml">                                Donate = Donate.Cacheable ? Donate.Cacheable : Donate;</span></span><br><span class="line"><span class="xml">                                return <span class="tag">&lt;<span class="name">Donate</span> <span class="attr">helper</span>=<span class="string">&#123;helper&#125;</span> <span class="attr">donate</span>=<span class="string">&#123;service&#125;</span> /&gt;</span>;</span></span><br><span class="line"><span class="xml">                            &#125; catch (e) &#123;</span></span><br><span class="line"><span class="xml">                                logger.w(`Icarus cannot load donate button &quot;$&#123;type&#125;&quot;`);</span></span><br><span class="line"><span class="xml">                            &#125;</span></span><br><span class="line"><span class="xml">                        &#125;</span></span><br><span class="line"><span class="xml">                        return null;</span></span><br><span class="line"><span class="xml">                    &#125;)&#125;</span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="魔改-icarus-原始碼"><a href="#魔改-icarus-原始碼" class="headerlink" title="魔改 icarus 原始碼"></a>魔改 icarus 原始碼</h3><p>由於我是使用 npm 下載主題，所以主題外框、文章、頁面元件會放在你資料夾的 <code>node_modules/hexo-theme-icarus/layout/common/</code> 底下，我是在 common 資料夾底下新建一個 jsx 檔元件，此元件去繼承 React.Component ，繼承下來的 sub class 去覆寫 render() 方法，我們方法回傳官方網站提供 iframe 標籤的內容，iframe src 屬性的 [LikerID] 換成自己的 LikerID ，最後我們將建立好的類別輸出出去，我的檔案取名叫 <code>likecoin.jsx</code>。</p>
<h4 id="likecoin-jsx"><a href="#likecoin-jsx" class="headerlink" title="likecoin.jsx"></a>likecoin.jsx</h4><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; Component &#125; = <span class="built_in">require</span>(<span class="string">&#x27;inferno&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = <span class="class"><span class="keyword">class</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">scrolling</span>=<span class="string">&#x27;no&#x27;</span> <span class="attr">frameborder</span>=<span class="string">&#x27;0&#x27;</span> <span class="attr">sandbox</span>=<span class="string">&#x27;allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox allow-storage-access-by-user-activation&#x27;</span> <span class="attr">style</span>=<span class="string">&#x27;height: 212px; width: 100%;&#x27;</span> <span class="attr">src</span>=<span class="string">&#x27;https://button.like.co/in/embed/[LikerID]/button?referrer=&quot; + encodeURIComponent(location.href.split(&quot;?&quot;)[0].split(&quot;#&quot;)[0]) + &quot;&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>原先包住在 <code>&lt;div class=&quot;buttons is-centered&quot;&gt;...&lt;/div&gt;</code>  原始碼以迭代方式尋找在使用者在 <code>_config.icarus.yml</code> 設定的 donate type 有沒有在對應的type，再把type帶進去 Donate渲染出來，那我們要改的就是這一段，接著我們將 likecoin.jsx 引入到 donates.jsx ，使用標籤將元件包住，並取代剛剛我們提到的地方，由於我們不需要再透過 config 檔尋找 donate type ，所以我有把 <code>_config.icarus.yml</code> donate 那一塊刪掉，原始碼原本判斷 donates 是否為陣列及陣列長度也一併移除。</p>
<h4 id="donates-jsx"><a href="#donates-jsx" class="headerlink" title="donates.jsx"></a>donates.jsx</h4><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> logger = <span class="built_in">require</span>(<span class="string">&#x27;hexo-log&#x27;</span>)();</span><br><span class="line"><span class="keyword">const</span> &#123; Component &#125; = <span class="built_in">require</span>(<span class="string">&#x27;inferno&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> LikeCoin = <span class="built_in">require</span>(<span class="string">&#x27;./likecoin&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> view = <span class="built_in">require</span>(<span class="string">&#x27;hexo-component-inferno/lib/core/view&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = <span class="class"><span class="keyword">class</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> &#123; helper &#125; = <span class="built_in">this</span>.props;</span><br><span class="line">        <span class="keyword">const</span> &#123; __ &#125; = helper;</span><br><span class="line">        <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;card&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;card-content&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;<span class="name">h3</span> <span class="attr">class</span>=<span class="string">&quot;menu-label has-text-centered&quot;</span>&gt;</span>&#123;__(&#x27;donate.title&#x27;)&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;is-centered&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">                    <span class="tag">&lt;<span class="name">LikeCoin</span>&gt;</span><span class="tag">&lt;/<span class="name">LikeCoin</span>&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><img src="https://i.imgur.com/fd5Da2R.png"></p>
<h3 id="參考資源"><a href="#參考資源" class="headerlink" title="參考資源"></a>參考資源</h3><ol>
<li><p><a target="_blank" rel="noopener" href="https://docs.like.co/v/zh/user-guide/creator/self-host/hexo-next">如何在 Hexo 開發環境的文章中加入 LikeCoin button</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://zh-hant.reactjs.org/docs/react-component.html">React.Component</a></p>
</li>
</ol>
</div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2022/03/12/Heroku-Couldn-t-find-that-process-type-web/"><img class="fill" src="https://images.unsplash.com/photo-1433538534219-56b38a74c4c3?ixlib=rb-1.2.1&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=1770&amp;q=80" alt="[Heroku][Flask] Couldn&#039;t find that process type (web)."></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-03-12T06:20:20.000Z" title="3/12/2022, 2:20:20 PM">2022-03-12</time>發表</span><span class="level-item"><time dateTime="2022-03-12T07:08:38.480Z" title="3/12/2022, 3:08:38 PM">2022-03-12</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/Heroku/">Heroku</a></span><span class="level-item">4 分鐘讀完 (大約535個字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/03/12/Heroku-Couldn-t-find-that-process-type-web/">[Heroku][Flask] Couldn&#039;t find that process type (web).</a></h1><div class="content"><h3 id="問題描述"><a href="#問題描述" class="headerlink" title="問題描述"></a>問題描述</h3><p>朋友想製造一個 LINE 機器人，自學學習撰寫 Python Flask Web Framework ，並部署到 Heroku 上，預期傳訊息時機器人會自動回覆相同的訊息內容，但卻沒有顯示在對話視窗內，於是拜託我幫他看。</p>
<p>首先要看的就是 Heroku console log ，下 <code>heroku logs --tail</code> 從裡面一定可以找出一些蛛絲馬跡，果不其然看到一些訊息，從日誌檔可得知程式是包版成功的，但很顯然程式發生錯誤， Web server 根本就沒有啟動，官方網站給出的解決方法是下 <code>heroku ps:scale web=1</code> 這組指令，以手動方式將 Web server 程序部署到他們的引擎 dyno 上。</p>
<h4 id="Heroku-上日誌檔"><a href="#Heroku-上日誌檔" class="headerlink" title="Heroku 上日誌檔"></a>Heroku 上日誌檔</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2022-03-12T05:20:20.000000+00:00 app[api]: Build succeeded</span><br><span class="line">2022-03-12T05:20:30.962092+00:00 heroku[router]: at=error code=H14 desc=&quot;No web processes running&quot; method=GET path=&quot;/favicon.ico&quot; host=groupbuyingchatbot.herokuapp.com request_id=808970d4-836d-40e6-9f8a-1e3b3a999199 fwd=&quot;42.77.131.204&quot; dyno= connect= service= status=503 bytes= protocol=https</span><br></pre></td></tr></table></figure>

<h4 id="Heroku-H14-錯誤代碼解釋"><a href="#Heroku-H14-錯誤代碼解釋" class="headerlink" title="Heroku H14 錯誤代碼解釋"></a>Heroku H14 錯誤代碼解釋</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">H14 - No web dynos running</span><br><span class="line">This is most likely the result of scaling your web dynos down to 0 dynos. To fix it, scale your web dynos to 1 or more dynos:</span><br><span class="line"></span><br><span class="line">heroku ps:scale web=1</span><br><span class="line">Use the heroku ps command to determine the state of your web dynos.</span><br><span class="line"></span><br><span class="line">2010-10-06T21:51:37-07:00 heroku[router]: at=error code=H14 desc=&quot;No web processes running&quot; method=GET path=&quot;/&quot; host=myapp.herokuapp.com fwd=17.17.17.17 dyno= connect= service= status=503 bytes=</span><br></pre></td></tr></table></figure>

<p>你以這樣就解決問題了嗎？並沒有！我下了這道指令回覆訊息仍是找不是 Web Server 的程序，後續我確認了 Python 有沒有語法上的錯誤、部署腳本、套件 requirements.txt，也嘗試在本機上執行，皆無問題。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gordonfang$ heroku ps:scale web=1</span><br><span class="line">Scaling dynos... !</span><br><span class="line">!   couldn&#x27;t find that process type (web).</span><br></pre></td></tr></table></figure>

<h3 id="解決方法"><a href="#解決方法" class="headerlink" title="解決方法"></a>解決方法</h3><p>隔一天再次檢查才發現原來朋友寫的 Procfile 多了副檔名，是 Procfile.txt ， Procfile 是 Heroku 的部署腳本，告訴他包版完後要跑哪一個檔案將 Web Server 啟動起來，重新調整完後機器人就能順利回覆訊息。</p>
<p> <img src="https://i.imgur.com/ueDnSAf.png" alt="Image"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@handler.add(<span class="params">MessageEvent, message=TextMessage</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">handle_message</span>(<span class="params">event</span>):</span></span><br><span class="line">    message = text=event.message.text</span><br><span class="line">    line_bot_api.reply_message(event.reply_token, TextSendMessage(message))</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2022/03/08/BigDecimal-%E7%B2%BE%E5%BA%A6%E8%A8%88%E7%AE%97/"><img class="fill" src="https://images.unsplash.com/photo-1638913658828-afb88c3d4d11?ixlib=rb-1.2.1&amp;ixid=MnwxMjA3fDF8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=1470&amp;q=80" alt="[Java] BigDecimal 精度計算"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-03-07T16:45:09.000Z" title="3/8/2022, 12:45:09 AM">2022-03-08</time>發表</span><span class="level-item"><time dateTime="2022-03-10T15:24:19.555Z" title="3/10/2022, 11:24:19 PM">2022-03-10</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/Java/">Java</a></span><span class="level-item">4 分鐘讀完 (大約605個字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/03/08/BigDecimal-%E7%B2%BE%E5%BA%A6%E8%A8%88%E7%AE%97/">[Java] BigDecimal 精度計算</a></h1><div class="content"><h3 id="問題"><a href="#問題" class="headerlink" title="問題"></a>問題</h3><p>實務上，我們在程式中處理與金錢相關的議題不會使用浮點數，因為那會造成 Truncate Error，算出來的金額會有浮點數誤差，通常我們會使用 BigDecimal 來計算，提高計算的精度。</p>
<p>而我曾經要計算某金額除以匯率，計算結果四捨五入小數點取到第二位，於是我就寫了以下範例，使用 BigDecimal 除法，分別填入除數與 MathContext ， MathContext 的建構子的第一參數 setPrecision ，我以為設定的是小數點的精度，但事與願達，結果是<code>2.4E2</code>即 240 以科學記號表示。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">BigDecimal dividend = <span class="keyword">new</span> BigDecimal(<span class="string">&quot;999999.9999&quot;</span>);</span><br><span class="line">BigDecimal divisor = <span class="keyword">new</span> BigDecimal(<span class="string">&quot;4096.00&quot;</span>);</span><br><span class="line">BigDecimal result = dividend.divide(divisor, <span class="keyword">new</span> MathContext(<span class="number">2</span>, RoundingMode.HALF_UP));</span><br><span class="line">System.out.println(result);</span><br></pre></td></tr></table></figure>


<h3 id="Scale-Precision傻傻分不清楚"><a href="#Scale-Precision傻傻分不清楚" class="headerlink" title="Scale, Precision傻傻分不清楚"></a>Scale, Precision傻傻分不清楚</h3><p>由於上述計算結果並不是我想要，我在網路上找到 BigDecimal 對 Scale , Precision 的介紹，我才赫然發現一開始我就搞錯用法了，原來 BigDecimal 也像 IEEE-754 採用類似的表示方式。</p>
<h4 id="BigDecimal表示法"><a href="#BigDecimal表示法" class="headerlink" title="BigDecimal表示法"></a>BigDecimal表示法</h4><blockquote>
<p>Java BigDecimal 是由兩個數值所構成的，分別是隨機的精度整數、跟 32 位元整數範圍，通常BigDecimal以<img src="https://chart.googleapis.com/chart?cht=tx&chl=unscaledValue%5Ctimes10%5E%7B-scale%7D">表示，其中n為小數位數。</p>
</blockquote>
<h4 id="Precision"><a href="#Precision" class="headerlink" title="Precision"></a>Precision</h4><blockquote>
<p>精度定義是未經 BigDecimal 正規表示的數值之位數，即該數值整數加上小數的數位，例如： 123.45 ，此精度會回傳 5 。</p>
</blockquote>
<h4 id="Scale"><a href="#Scale" class="headerlink" title="Scale"></a>Scale</h4><blockquote>
<p>範圍定義是經 BigDecimal 正規表示後的小數位數，如果 Scale 是零、正整數，則會將該數的數個位數挪動到小數點符號的右邊，如若 Scale 是負整數，則該值會乘上 10 的幂次，例如： 12345 ， scale = 2，則回傳 123.45 ， 12345 ， scale = -1 ，則回傳 123450 。</p>
</blockquote>
<h3 id="解決方法"><a href="#解決方法" class="headerlink" title="解決方法"></a>解決方法</h3><p>承上述例子，因為精度是設定 2 ，舊版的寫法會造成四捨五入到十位數，十數位以下通通進位，並以科學記號表示。解決方法是改用 BigDecimal 另一個重載 divide 的方法，就可以在第二參數設定小數範圍為 2 ，最後結果為<code>244.14</code>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BigDecimal</span> <span class="keyword">extends</span> <span class="title">Number</span> <span class="keyword">implements</span> <span class="title">Comparable</span>&lt;<span class="title">BigDecimal</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> BigDecimal <span class="title">divide</span><span class="params">(BigDecimal divisor, <span class="keyword">int</span> scale, RoundingMode roundingMode)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> divide(divisor, scale, roundingMode.oldMode);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">BigDecimal dividend = <span class="keyword">new</span> BigDecimal(<span class="string">&quot;999999.9999&quot;</span>);</span><br><span class="line">BigDecimal divisor = <span class="keyword">new</span> BigDecimal(<span class="string">&quot;4096.00&quot;</span>);</span><br><span class="line">BigDecimal result = dividend.divide(divisor, <span class="number">2</span>, RoundingMode.HALF_UP);</span><br><span class="line">System.out.println(result);</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2022/03/07/%5BSpring%5D%20Set%20exposeProxy%20property%20on%20Advised%20to%20true/"><img class="fill" src="https://images.unsplash.com/photo-1584734622529-6bb653236eea?ixlib=rb-1.2.1&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=687&amp;q=80" alt="[Spring] Set exposeProxy property on Advised to true"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-03-06T16:35:13.000Z" title="3/7/2022, 12:35:13 AM">2022-03-07</time>發表</span><span class="level-item"><time dateTime="2022-03-07T16:22:42.253Z" title="3/8/2022, 12:22:42 AM">2022-03-08</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/Spring-Boot/">Spring Boot</a></span><span class="level-item">5 分鐘讀完 (大約679個字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/03/07/%5BSpring%5D%20Set%20exposeProxy%20property%20on%20Advised%20to%20true/">[Spring] Set exposeProxy property on Advised to true</a></h1><div class="content"><h3 id="問題描述"><a href="#問題描述" class="headerlink" title="問題描述"></a>問題描述</h3><p>我在工作上有一個需求需要使用多執行緒完整多個工項，每一個工作都是獨立事務交易，所以我使用Java 8 CompletableFuture提供的方法實作Runnable，再利用Spring AOP代理機制處理事務交易，但當我發送Http Request到我的AP Server時，卻收到下述報錯訊息，從中可以得知發生此錯誤的原因有兩種可能，一、沒有打開代理<code>Java @EnableAspectJAutoProxy(exposeProxy = true, proxyTargetClass = true)</code>，另一個可能是不是在同一條執行緒使用代理機制，後來我才意識到我使用了不同的執行緒代理是無法生效的。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java.util.concurrent.ExecutionException: java.lang.IllegalStateException: Cannot find current proxy: Set exposeProxy property on Advised to &#x27;true&#x27; to make it available, and ensure that AopContext.currentProxy() is invoked in the same thread as the AOP invocation context.</span><br></pre></td></tr></table></figure>

<p>我就好奇為什麼AOP代理機制為不能跨執行緒，於是我去翻AopContext的source code，我才發現原來它是從ThreadLocal取得目前的代理類別，ThreadLocal本身特性就專屬於一個執行緒使用，其他的執行緒不能存取、修改。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">AopContext</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> ThreadLocal&lt;Object&gt; currentProxy = <span class="keyword">new</span> NamedThreadLocal&lt;&gt;(<span class="string">&quot;Current AOP proxy&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="title">AopContext</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Object <span class="title">currentProxy</span><span class="params">()</span> <span class="keyword">throws</span> IllegalStateException </span>&#123;</span><br><span class="line">		Object proxy = currentProxy.get();</span><br><span class="line">		<span class="keyword">if</span> (proxy == <span class="keyword">null</span>) &#123;</span><br><span class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> IllegalStateException(</span><br><span class="line">					<span class="string">&quot;Cannot find current proxy: Set &#x27;exposeProxy&#x27; property on Advised to &#x27;true&#x27; to make it available, and &quot;</span> +</span><br><span class="line">							<span class="string">&quot;ensure that AopContext.currentProxy() is invoked in the same thread as the AOP invocation context.&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> proxy;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="範例"><a href="#範例" class="headerlink" title="範例"></a>範例</h3><p>以下範例模擬我當時工作時發生的錯誤，在raiseEmployeeSalary()先到MongoDB撈所有員工的資料後，以多執行緒方式替員工加薪數額，由raiseSalary()完成，CompletableFuture.allOf意思是等所有員工加完薪水後，繼續往下作。如同上一節我所描述的，在透過代理機制去呼叫raiseSalary()就會報錯。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EmployeeService</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> EmployeeDao employeeDao;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Transactional(rollbackFor = Exception.class, propagation = Propagation.REQUIRED)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">raiseEmployeeSalary</span><span class="params">(RaiseSalaryBo raiseSalaryBo)</span> <span class="keyword">throws</span> ExecutionException, InterruptedException </span>&#123;</span><br><span class="line">        List&lt;Employee&gt; employees = employeeDao.listAllEmployees();</span><br><span class="line"></span><br><span class="line">        List&lt;CompletableFuture&lt;?&gt;&gt; tasks = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (Employee employee : employees) &#123;</span><br><span class="line">            tasks.add(CompletableFuture.runAsync(()-&gt;((EmployeeService)AopContext.currentProxy()).raiseSalary(employee, raiseSalaryBo.getBonus())));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        CompletableFuture.allOf(tasks.toArray(<span class="keyword">new</span> CompletableFuture&lt;?&gt;[<span class="number">0</span>])).get();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Transactional(rollbackFor = Exception.class, propagation = Propagation.REQUIRES_NEW)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">raiseSalary</span><span class="params">(Employee employee, BigDecimal bonus)</span> </span>&#123;</span><br><span class="line">        employeeDao.raiseSalary(employee, bonus);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="解決方法"><a href="#解決方法" class="headerlink" title="解決方法"></a>解決方法</h3><p>解決方法十分簡單，如若真的需要切割出子事務交易，那就不能使多執行緒來處理，依據上述範例必須把CompletableFuture移除，程式才能正常執行。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EmployeeService</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> EmployeeDao employeeDao;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Transactional(rollbackFor = Exception.class, propagation = Propagation.REQUIRED)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">raiseEmployeeSalary</span><span class="params">(RaiseSalaryBo raiseSalaryBo)</span> </span>&#123;</span><br><span class="line">        List&lt;Employee&gt; employees = employeeDao.listAllEmployees();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (Employee employee : employees) &#123;</span><br><span class="line">            ((EmployeeService) AopContext.currentProxy()).raiseSalary(employee, raiseSalaryBo.getBonus());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Transactional(rollbackFor = Exception.class, propagation = Propagation.REQUIRES_NEW)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">raiseSalary</span><span class="params">(Employee employee, BigDecimal bonus)</span> </span>&#123;</span><br><span class="line">        employeeDao.raiseSalary(employee, bonus);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="資料庫更新後的結果"><a href="#資料庫更新後的結果" class="headerlink" title="資料庫更新後的結果"></a>資料庫更新後的結果</h4><p><img src="https://i.imgur.com/MIrK0UZ.png" alt="Image"></p>
</div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2021/06/27/%5BLeetCode%5D%20844.%20Backspace%20String%20Compare/"><img class="fill" src="https://images.unsplash.com/photo-1586943759341-be5595944989?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=1050&amp;q=80" alt="[LeetCode] 844. Backspace String Compare"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2021-06-27T15:40:00.000Z" title="6/27/2021, 11:40:00 PM">2021-06-27</time>發表</span><span class="level-item"><time dateTime="2021-06-27T16:16:36.390Z" title="6/28/2021, 12:16:36 AM">2021-06-28</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/LeetCode/">LeetCode</a></span><span class="level-item">4 分鐘讀完 (大約543個字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/06/27/%5BLeetCode%5D%20844.%20Backspace%20String%20Compare/">[LeetCode] 844. Backspace String Compare</a></h1><div class="content"><h1 id="題目連結"><a href="#題目連結" class="headerlink" title="題目連結"></a>題目連結</h1><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/backspace-string-compare/">844. Backspace String Compare</a></p>
<h1 id="問題描述"><a href="#問題描述" class="headerlink" title="問題描述"></a>問題描述</h1><p>Given two strings s and t, return true if they are equal when both are typed into empty text editors. ‘#’ means a backspace character.</p>
<p>Note that after backspacing an empty text, the text will continue empty.</p>
<h2 id="Example-1"><a href="#Example-1" class="headerlink" title="Example 1:"></a>Example 1:</h2><p>Input: s = “ab#c”, t = “ad#c”<br>Output: true<br>Explanation: Both s and t become “ac”.<br>Example 2:</p>
<p>Input: s = “ab##”, t = “c#d#”<br>Output: true<br>Explanation: Both s and t become “”.<br>Example 3:</p>
<p>Input: s = “a##c”, t = “#a#c”<br>Output: true<br>Explanation: Both s and t become “c”.<br>Example 4:</p>
<p>Input: s = “a#c”, t = “b”<br>Output: false<br>Explanation: s becomes “c” while t becomes “b”.</p>
<h1 id="翻譯"><a href="#翻譯" class="headerlink" title="翻譯"></a>翻譯</h1><ul>
<li>給定兩字串分別是s、 跟t，被輸入到空的文字編輯器的這兩段字串如果是一樣<br>，則回傳true，#表示一個退格鍵。</li>
<li>請注意在空字串輸入退格鍵，這段文字仍為空白。</li>
</ul>
<h1 id="解題思維"><a href="#解題思維" class="headerlink" title="解題思維"></a>解題思維</h1><h2 id="從字串頭讀到字串尾的解法"><a href="#從字串頭讀到字串尾的解法" class="headerlink" title="從字串頭讀到字串尾的解法"></a>從字串頭讀到字串尾的解法</h2><ol>
<li>準備一個Stack，以迭代方式讀取兩個字串中各個字元，將其儲存到Stack</li>
<li>當讀取到字元是退格鍵#，將目前儲存在Stack第一個字元pop<ul>
<li>‘#’不儲到Stack</li>
</ul>
</li>
<li>最後將仍儲存在Stack的字元輸出成字串，即可以比對兩串字串是否一樣</li>
<li>請參考Java解法</li>
</ol>
<h2 id="從字串尾讀到字串頭的解法"><a href="#從字串尾讀到字串頭的解法" class="headerlink" title="從字串尾讀到字串頭的解法"></a>從字串尾讀到字串頭的解法</h2><ol>
<li>從字串尾開始讀取各個字元</li>
<li>當讀取到字元是退格鍵#，累加變數<ul>
<li>變數用來決定讀取下一個字元是否要跳過</li>
</ul>
</li>
<li>變數大於0，跳過該字元</li>
<li>最後比對去除刪除部分字元字串是否一樣</li>
<li>請參考C++解法</li>
</ol>
<h1 id="解題報告"><a href="#解題報告" class="headerlink" title="解題報告"></a>解題報告</h1><blockquote>
<p>Level: Easy<br>Time Complexity: O(n)<br>Runtime: 0 ms, faster than 100.00% of C++ online submissions for Backspace String Compare.<br>Memory Usage: 6.3 MB, less than 57.92% of C++ online submissions for Backspace String Compare.</p>
</blockquote>
<h1 id="程式完整解題"><a href="#程式完整解題" class="headerlink" title="程式完整解題"></a>程式完整解題</h1><h2 id="Java-解法"><a href="#Java-解法" class="headerlink" title="Java 解法"></a>Java 解法</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">backspaceCompare</span><span class="params">(String s, String t)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> removeBackSpaces(s).removeBackSpaces(t);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> String <span class="title">removeBackSpaces</span><span class="params">(String str)</span></span>&#123;</span><br><span class="line">       Stack&lt;Character&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">       StringBuilder builder = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">       <span class="keyword">for</span>(<span class="keyword">char</span> c : str.toCharArray())&#123;</span><br><span class="line">           <span class="keyword">if</span>(c == <span class="string">&#x27;#&#x27;</span>) &#123;</span><br><span class="line">               <span class="keyword">if</span>(!stack.isEmpty()) &#123;</span><br><span class="line">                   stack.pop();</span><br><span class="line">               &#125;</span><br><span class="line">           &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">               stack.push(c);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       </span><br><span class="line">       <span class="keyword">while</span>(!stack.isEmpty())&#123;</span><br><span class="line">           builder.append(stack.pop());</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> builder.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="C-解法"><a href="#C-解法" class="headerlink" title="C++ 解法"></a>C++ 解法</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">backspaceCompare</span><span class="params">(string s, string t)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">removeBackSpaces</span>(s).<span class="built_in">compare</span>(<span class="built_in">removeBackSpaces</span>(t)) == <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function">string <span class="title">removeBackSpaces</span><span class="params">(string str)</span> </span>&#123;</span><br><span class="line">        string newString;</span><br><span class="line">        <span class="keyword">int</span> skip = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = str.<span class="built_in">length</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">if</span>(str[i] == <span class="string">&#x27;#&#x27;</span>) &#123;</span><br><span class="line">                skip++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span>(skip &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    skip--;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    newString.<span class="built_in">push_back</span>(str[i]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> newString;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2020/07/03/%5BLeetCode%5D%20185.%20Department%20Top%20Three%20Salaries/"><img class="fill" src="https://images.unsplash.com/photo-1531973576160-7125cd663d86?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=1350&amp;q=80" alt="[LeetCode] 185. Department Top Three Salaries"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2020-07-02T17:00:56.000Z" title="7/3/2020, 1:00:56 AM">2020-07-03</time>發表</span><span class="level-item"><time dateTime="2021-06-27T15:41:44.208Z" title="6/27/2021, 11:41:44 PM">2021-06-27</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/LeetCode/">LeetCode</a></span><span class="level-item">3 分鐘讀完 (大約412個字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/07/03/%5BLeetCode%5D%20185.%20Department%20Top%20Three%20Salaries/">[LeetCode] 185. Department Top Three Salaries</a></h1><div class="content"><h1 id="問題描述"><a href="#問題描述" class="headerlink" title="問題描述"></a>問題描述</h1><p>The Employee table holds all employees. Every employee has an Id, and there is also a column for the department Id.</p>
<table>
<thead>
<tr>
<th>Id</th>
<th>Name</th>
<th>Salary</th>
<th>DepartmentId</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>Joe</td>
<td>85000</td>
<td>1</td>
</tr>
<tr>
<td>2</td>
<td>Henry</td>
<td>80000</td>
<td>2</td>
</tr>
<tr>
<td>3</td>
<td>Sam</td>
<td>60000</td>
<td>2</td>
</tr>
<tr>
<td>4</td>
<td>Max</td>
<td>90000</td>
<td>1</td>
</tr>
<tr>
<td>5</td>
<td>Janet</td>
<td>69000</td>
<td>1</td>
</tr>
<tr>
<td>6</td>
<td>Randy</td>
<td>85000</td>
<td>1</td>
</tr>
<tr>
<td>7</td>
<td>Will</td>
<td>70000</td>
<td>1</td>
</tr>
</tbody></table>
<p>The Department table holds all departments of the company.</p>
<table>
<thead>
<tr>
<th>Id</th>
<th>Name</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>IT</td>
</tr>
<tr>
<td>2</td>
<td>Sales</td>
</tr>
</tbody></table>
<p>Write a SQL query to find employees who earn the top three salaries in each of the department. For the above tables, your SQL query should return the following rows (order of rows does not matter).</p>
<table>
<thead>
<tr>
<th>Department</th>
<th>Employee</th>
<th>Salary</th>
</tr>
</thead>
<tbody><tr>
<td>IT</td>
<td>Max</td>
<td>90000</td>
</tr>
<tr>
<td>IT</td>
<td>Randy</td>
<td>85000</td>
</tr>
<tr>
<td>IT</td>
<td>Joe</td>
<td>85000</td>
</tr>
<tr>
<td>IT</td>
<td>Will</td>
<td>70000</td>
</tr>
<tr>
<td>Sales</td>
<td>Henry</td>
<td>80000</td>
</tr>
<tr>
<td>Sales</td>
<td>Sam</td>
<td>60000</td>
</tr>
</tbody></table>
<h1 id="翻譯"><a href="#翻譯" class="headerlink" title="翻譯"></a>翻譯</h1><ul>
<li>Employee 表格紀錄員工資訊，每位員工擁有 Id, 及所屬部門代碼。</li>
<li>Department 表格紀錄公司所有部門資訊。</li>
<li>請撰寫一段 SQL 查詢，找出各部門業績排行的前三名，同名並列。</li>
</ul>
<h1 id="解題思維"><a href="#解題思維" class="headerlink" title="解題思維"></a>解題思維</h1><blockquote>
<p>利用 DENSE_RANK()函數以部門代號切割，業績從高至低排名<br>最後撈取前三名(含)，就可得出答案</p>
</blockquote>
<h1 id="解題報告"><a href="#解題報告" class="headerlink" title="解題報告"></a>解題報告</h1><blockquote>
<p>Level: Hard<br>Runtime: 1173 ms, faster than 80.22% of Oracle online submissions for Department Top Three Salaries.<br>Memory Usage: 0B, less than 100.00% of Oracle online submissions for Department Top Three Salaries.</p>
</blockquote>
<h1 id="程式完整解題"><a href="#程式完整解題" class="headerlink" title="程式完整解題"></a>程式完整解題</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Write your PL/SQL query statement below */</span></span><br><span class="line"><span class="keyword">SELECT</span> DEPARTMENT</span><br><span class="line">      ,EMPLOYEE</span><br><span class="line">      ,SALARY</span><br><span class="line">  <span class="keyword">FROM</span>(<span class="keyword">SELECT</span> DP.NAME   <span class="keyword">AS</span> DEPARTMENT</span><br><span class="line">             ,EM.NAME   <span class="keyword">AS</span> EMPLOYEE</span><br><span class="line">             ,EM.SALARY <span class="keyword">AS</span> SALARY</span><br><span class="line">             ,<span class="built_in">DENSE_RANK</span>() <span class="keyword">OVER</span>(<span class="keyword">PARTITION</span> <span class="keyword">BY</span> EM.DEPARTMENTID <span class="keyword">ORDER</span> <span class="keyword">BY</span> EM.SALARY <span class="keyword">DESC</span>) <span class="keyword">AS</span> RANK</span><br><span class="line">         <span class="keyword">FROM</span> EMPLOYEE   EM</span><br><span class="line">         <span class="keyword">JOIN</span> DEPARTMENT DP</span><br><span class="line">           <span class="keyword">ON</span> EM.DEPARTMENTID <span class="operator">=</span> DP.ID)</span><br><span class="line"> <span class="keyword">WHERE</span> RANK <span class="operator">&lt;=</span> <span class="number">3</span>;</span><br></pre></td></tr></table></figure>

<h2 id="SQL-Schema"><a href="#SQL-Schema" class="headerlink" title="SQL Schema"></a>SQL Schema</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Create</span> <span class="keyword">table</span> If <span class="keyword">Not</span> <span class="keyword">Exists</span> Employee (Id <span class="type">int</span>, Name <span class="type">varchar</span>(<span class="number">255</span>), Salary <span class="type">int</span>, DepartmentId <span class="type">int</span>)</span><br><span class="line"><span class="keyword">Create</span> <span class="keyword">table</span> If <span class="keyword">Not</span> <span class="keyword">Exists</span> Department (Id <span class="type">int</span>, Name <span class="type">varchar</span>(<span class="number">255</span>))</span><br><span class="line"><span class="keyword">Truncate</span> <span class="keyword">table</span> Employee</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Employee (Id, Name, Salary, DepartmentId) <span class="keyword">values</span> (<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;Joe&#x27;</span>, <span class="string">&#x27;85000&#x27;</span>, <span class="string">&#x27;1&#x27;</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Employee (Id, Name, Salary, DepartmentId) <span class="keyword">values</span> (<span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;Henry&#x27;</span>, <span class="string">&#x27;80000&#x27;</span>, <span class="string">&#x27;2&#x27;</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Employee (Id, Name, Salary, DepartmentId) <span class="keyword">values</span> (<span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;Sam&#x27;</span>, <span class="string">&#x27;60000&#x27;</span>, <span class="string">&#x27;2&#x27;</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Employee (Id, Name, Salary, DepartmentId) <span class="keyword">values</span> (<span class="string">&#x27;4&#x27;</span>, <span class="string">&#x27;Max&#x27;</span>, <span class="string">&#x27;90000&#x27;</span>, <span class="string">&#x27;1&#x27;</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Employee (Id, Name, Salary, DepartmentId) <span class="keyword">values</span> (<span class="string">&#x27;5&#x27;</span>, <span class="string">&#x27;Janet&#x27;</span>, <span class="string">&#x27;69000&#x27;</span>, <span class="string">&#x27;1&#x27;</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Employee (Id, Name, Salary, DepartmentId) <span class="keyword">values</span> (<span class="string">&#x27;6&#x27;</span>, <span class="string">&#x27;Randy&#x27;</span>, <span class="string">&#x27;85000&#x27;</span>, <span class="string">&#x27;1&#x27;</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Employee (Id, Name, Salary, DepartmentId) <span class="keyword">values</span> (<span class="string">&#x27;7&#x27;</span>, <span class="string">&#x27;Will&#x27;</span>, <span class="string">&#x27;70000&#x27;</span>, <span class="string">&#x27;1&#x27;</span>)</span><br><span class="line"><span class="keyword">Truncate</span> <span class="keyword">table</span> Department</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Department (Id, Name) <span class="keyword">values</span> (<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;IT&#x27;</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Department (Id, Name) <span class="keyword">values</span> (<span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;Sales&#x27;</span>)</span><br></pre></td></tr></table></figure>
</div></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous is-invisible is-hidden-mobile"><a href="/page/0/">上一頁</a></div><div class="pagination-next"><a href="/page/2/">下一頁</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link is-current" href="/">1</a></li><li><a class="pagination-link" href="/page/2/">2</a></li><li><a class="pagination-link" href="/page/3/">3</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/img/profile_pic.png" alt="Gordon Fang"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Gordon Fang</p><p class="is-size-6 is-block">Graduate School Student</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Taiwan</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">22</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分類</p><a href="/categories"><p class="title">10</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">標籤</p><a href="/tags"><p class="title">23</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/gordonfang199649" target="_blank" rel="noopener">追蹤</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/gordonfang199649"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://www.facebook.com/misfgl/"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Linkedin" href="https://www.linkedin.com/in/gordon-fang-aaa226154/"><i class="fab fa-linkedin"></i></a></div></div></div><!--!--><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">分類</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Azure-DevOps/"><span class="level-start"><span class="level-item">Azure DevOps</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Heroku/"><span class="level-start"><span class="level-item">Heroku</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Hexo/"><span class="level-start"><span class="level-item">Hexo</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Image-Processing/"><span class="level-start"><span class="level-item">Image Processing</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Java/"><span class="level-start"><span class="level-item">Java</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/LeetCode/"><span class="level-start"><span class="level-item">LeetCode</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/categories/Oracle-SQL/"><span class="level-start"><span class="level-item">Oracle SQL</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Spring-Boot/"><span class="level-start"><span class="level-item">Spring Boot</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/vscode/"><span class="level-start"><span class="level-item">vscode</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%BC%94%E7%AE%97%E6%B3%95/"><span class="level-start"><span class="level-item">演算法</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-01-29T13:06:28.000Z">2024-01-29</time></p><p class="title"><a href="/2024/01/29/Snow-Algorithm-%E9%9B%AA%E8%8A%B1%E6%BC%94%E7%AE%97%E6%B3%95/">Snow Algorithm 雪花演算法</a></p><p class="categories"><a href="/categories/%E6%BC%94%E7%AE%97%E6%B3%95/">演算法</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-01-27T15:31:05.000Z">2024-01-27</time></p><p class="title"><a href="/2024/01/27/VS-Code-%E5%B8%B6%E5%8F%83%E6%95%B8-debug-python%E7%A8%8B%E5%BC%8F/">VS Code 帶參數 debug python程式</a></p><p class="categories"><a href="/categories/vscode/">vscode</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-01-27T13:57:45.000Z">2024-01-27</time></p><p class="title"><a href="/2024/01/27/%E5%9C%A8-Visual-Studio-Code-%E9%81%A0%E7%AB%AF%E9%96%8B%E7%99%BC/">在 Visual Studio Code 遠端開發（客戶端篇）</a></p><p class="categories"><a href="/categories/vscode/">vscode</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-03-30T16:35:12.000Z">2022-03-31</time></p><p class="title"><a href="/2022/03/31/Azure-DevOps-Stakeholder-%E6%AC%8A%E9%99%90%E7%9C%8B%E4%B8%8D%E5%88%B0-Repo/">Azure DevOps Stakeholder 權限看不到 Repo</a></p><p class="categories"><a href="/categories/Azure-DevOps/">Azure DevOps</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-03-12T09:22:50.000Z">2022-03-12</time></p><p class="title"><a href="/2022/03/12/%E5%A6%82%E4%BD%95%E5%9C%A8-Hexo-%E9%96%8B%E7%99%BC%E7%92%B0%E5%A2%83%E7%9A%84%E6%96%87%E7%AB%A0%E4%B8%AD%E5%8A%A0%E5%85%A5-LikeCoin-button/">[Hexo] 如何在 Hexo 開發環境的文章中加入 LikeCoin button</a></p><p class="categories"><a href="/categories/Hexo/">Hexo</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">彙整</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2024/01/"><span class="level-start"><span class="level-item">一月 2024</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/03/"><span class="level-start"><span class="level-item">三月 2022</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/06/"><span class="level-start"><span class="level-item">六月 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/07/"><span class="level-start"><span class="level-item">七月 2020</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/06/"><span class="level-start"><span class="level-item">六月 2020</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/05/"><span class="level-start"><span class="level-item">五月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/01/"><span class="level-start"><span class="level-item">一月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">標籤</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Array/"><span class="tag">Array</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Azure-DevOps/"><span class="tag">Azure DevOps</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BlockChain/"><span class="tag">BlockChain</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Blog/"><span class="tag">Blog</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/C/"><span class="tag">C++</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Flask/"><span class="tag">Flask</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Git/"><span class="tag">Git</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GitHub/"><span class="tag">GitHub</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Heroku/"><span class="tag">Heroku</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Hexo/"><span class="tag">Hexo</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Image-Processing/"><span class="tag">Image Processing</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Java/"><span class="tag">Java</span><span class="tag">10</span></a></div><div class="control"><a class="tags has-addons" href="/tags/LikeCoin/"><span class="tag">LikeCoin</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/LinkedList/"><span class="tag">LinkedList</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Number/"><span class="tag">Number</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/PL-SQL/"><span class="tag">PL/SQL</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Python/"><span class="tag">Python</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Queue/"><span class="tag">Queue</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Spring-Boot/"><span class="tag">Spring Boot</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Tree/"><span class="tag">Tree</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/python/"><span class="tag">python</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/vscode/"><span class="tag">vscode</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%BC%94%E7%AE%97%E6%B3%95/"><span class="tag">演算法</span><span class="tag">1</span></a></div></div></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">訂閱 Email</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="訂閱"></div></div></form></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="Gordon的寇汀筆記本" height="28"></a><p class="is-size-7"><span>&copy; 2024 Gordon Fang</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-TW");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到頁首" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此網站使用Cookie來改善您的體驗。",
          dismiss: "知道了！",
          allow: "允許使用Cookie",
          deny: "拒絕",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="請輸入關鍵字..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"請輸入關鍵字...","untitled":"(無標題)","posts":"文章","pages":"頁面","categories":"分類","tags":"標籤"});
        });</script></body></html>